<% unless AppConfig.has_key?(:aspace_custom_restrictions_pui_enhance) && AppConfig[:aspace_custom_restrictions_pui_enhance] == false %>
  <%= stylesheet_link_tag "#{AppConfig[:public_proxy_prefix]}assets/custom_restrictions_pui.css" %>
  <%= javascript_include_tag "#{AppConfig[:public_proxy_prefix]}assets/custom_restrictions_pui.js" %>

  <% 
    def is_search? 
      controller.controller_name == "search"
    end
    def is_resource_idx? 
      controller.controller_name == "resources"
    end
    def is_accession_idx? 
      controller.controller_name == "accessions"
    end
    def is_digital_object_idx? 
      controller.controller_name == "objects"
    end
  %>

  <% if is_search? || is_accession_idx? || is_digital_object_idx? || is_resource_idx? %>
  <script>
    $().ready(() => {
      const puiSearchRestrictions = new CustomRestrictionsPui();
      puiSearchRestrictions.setupDecoratePuiSearch();
    });
  </script>
  <% end %>
<% end %>
